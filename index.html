<!DOCTYPE html>
<html>
  <head>
      <meta charset="UTF-8">
      <title>Test page</title>
      <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

      <script>
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
            'event': 'new_subscriber',
            'formLocation': 'footer'
        });

      </script>
      <script>
    let githubURL = 'https://zyt9749.github.io/index.html?aaa=new&bbb=old&ccc=bad';

    function getQueryString(newUrl) {
    const queryString = newUrl.split('?')[1];
    const urlParams = new URLSearchParams(queryString);
    const entries = urlParams.entries();
    let val1 = 'null';
    let val2 = 'null';
    for(const entry of entries) {
        val1 = entry[0];
        val2 = entry[1];
        window.dataLayer.push({val1: val2});
        }
    }
    getQueryString(githubURL);

  </script>
      <!-- Google Tag Manager -->
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-W5KQ7HT');</script>
      <!-- End Google Tag Manager -->
  </head>
  <body>
  <h2>Test Page</h2>

  <button type="button"
          onclick="document.getElementById('demo').innerHTML = Date()">
      Click here to check the date and the time
  </button>
  <a href="#" name="color" onclick="dataLayer.push({'color': 'red',
     'conversionValue': 50,
     'event': 'customizeCar'});" >Customize color</a>
  <p id="demo"></p>
  <a href="https://zyt9749.github.io/index.html?pageCategory=newPage">携带参数my name跳转</a>
  <script>
    const githubURL = new URL('https://zyt9749.github.io/index.html?aaa=new&bbb=old&ccc=bad');

    function getQueryString(newurl) {
    let queryString = newurl.split('?')[1];
    let urlParams = new URLSearchParams(queryString);
    let entries = urlParams.entries();
    for(const entry of entries) {
        dataLayer.push(entry[0]: entry[1]);
        }
    return null;
    }
    getQueryString(githubURL);

  </script>


  <button method="get" action="clicked">Click here</button>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W5KQ7HT"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  </body>
</html>